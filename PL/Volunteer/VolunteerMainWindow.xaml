<Window x:Class="PL.Volunteer.VolunteerMainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Volunteer Home"
        Height="600" Width="800"
        WindowStartupLocation="CenterScreen"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        Background="#FAFAFA"
        Closed="Window_Closed">

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>

        <!-- Volunteer Info Panel -->
        <ScrollViewer Grid.Column="0">
            <StackPanel>
                <TextBlock Text="פרטי מתנדב" FontSize="20" FontWeight="Bold" Margin="0 10"/>
                <TextBlock Text="ת.ז:"/>
                <TextBox Text="{Binding CurrentVolunteer.Id}" IsReadOnly="True" Margin="0 5"/>
                <TextBlock Text="שם:"/>
                <TextBox Text="{Binding CurrentVolunteer.Name, Mode=TwoWay}" Margin="0 5"/>
                <TextBlock Text="טלפון:"/>
                <TextBox Text="{Binding CurrentVolunteer.Phone, Mode=TwoWay}" Margin="0 5"/>
                <TextBlock Text="אימייל:"/>
                <TextBox Text="{Binding CurrentVolunteer.Email, Mode=TwoWay}" Margin="0 5"/>
                <TextBlock Text="כתובת:"/>
                <TextBox Text="{Binding CurrentVolunteer.Address, Mode=TwoWay}" Margin="0 5"/>

                <TextBlock Text="תפקיד:"/>
                <ComboBox ItemsSource="{Binding Source={StaticResource JobsCollectionKey}}"
          SelectedValue="{Binding CurrentVolunteer.Jobs, Mode=TwoWay}"
          IsEnabled="False"
          Margin="0 5"/>


                <TextBlock Text="סוג מרחק:"/>
                <ComboBox ItemsSource="{Binding Source={StaticResource DistanceCollectionKey}}"
                   SelectedValue="{Binding CurrentVolunteer.DistanceType, Mode=TwoWay}"
                   Margin="0 5"/>

                <TextBlock Text="מרחק מקסימלי:"/>
                <TextBox Text="{Binding CurrentVolunteer.MaxDistance, Mode=TwoWay}" Margin="0 5"/>

                <CheckBox Content="פעיל"
                   IsChecked="{Binding CurrentVolunteer.IsActive, Mode=TwoWay}"
                   Margin="0 5"/>

                <Button Content="Update My Details"
         Click="UpdateVolunteer_Click"
         Height="40" FontWeight="Bold" Background="#007ACC" Foreground="White" BorderThickness="0" Margin="0,10"/>
            </StackPanel>
        </ScrollViewer>

        <!-- Action Buttons Panel -->
        <ScrollViewer Grid.Column="1">
            <StackPanel Grid.Column="1" Margin="10">

                <TextBlock Text="ניהול קריאה" FontSize="20" FontWeight="Bold" Margin="0 10"/>
                <TextBlock Text="{Binding CallInProgress, Converter={StaticResource CallInProgressConverter}}" Margin="0 5"/>


                <Button Content="View Closed Calls"
                    Click="ViewClosedCalls_Click"
                    Height="40" FontWeight="Bold" Background="#4CAF50" Foreground="White" BorderThickness="0" Margin="0,10"/>

                <Button Content="Choose a Call"
        Click="ViewOpenCalls_Click"
        Height="40" FontWeight="Bold" Background="#FFC107" Foreground="White" BorderThickness="0" Margin="0,10"
        Visibility="{Binding CurrentVolunteer.CallInProgress, Converter={StaticResource NullToVisibilityConverter}}"
        IsEnabled="{Binding CanChooseCall}"/>

                <Button Content="Close Current Call"
                    Click="CloseCurrentCall_Click"
                    Height="40" FontWeight="Bold" Background="#E91E63" Foreground="White" BorderThickness="0" Margin="0,10"
                    Visibility="{Binding CurrentVolunteer.CallInProgress, Converter={StaticResource NotNullToVisibilityConverter}}"/>

                <Button Content="Cancel Current Call"
                    Click="CancelCurrentCall_Click"
                    Height="40" FontWeight="Bold" Background="#E91E63" Foreground="White" BorderThickness="0" Margin="0,10"
                    Visibility="{Binding CurrentVolunteer.CallInProgress, Converter={StaticResource NotNullToVisibilityConverter}}"/>

                <Button Content="Exit"
                    Click="Exit_Click"
                    Height="40" FontWeight="Bold" Background="#E53935" Foreground="White" BorderThickness="0" Margin="0,10"/>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
